name: pull

on:
  push:
  pull_request:

jobs:
  build:
    runs-on: self-hosted
    container:
      image: ${{ secrets.CI_PRIVATE_IMAGE_URL }}
    steps:
      - name: build
        run: |
          echo "run some build"
          echo "repository ${{ github.repository }}"
          echo "sha ${{ github.sha }}"

  # WIP!
  test:
    needs: build
    runs-on: self-hosted
    container:
      image: ${{ secrets.CI_PRIVATE_IMAGE_URL }}
    steps:
      - name: test
        run: |
          echo "run some test"
          echo "repository ${{ github.repository }}"
          echo "sha ${{ github.sha }}"
